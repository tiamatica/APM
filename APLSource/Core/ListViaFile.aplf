 ListViaFile←{
     uri pattern←⍺ ⍵
     type←'file://'
     0=⊃type⍷uri:1 'Only file URI supported.'

     path←(≢type)↓uri
     rc msg index←GetRegistryIndex path
     0≠rc:rc msg index
     mask←∨/pattern⍷⍕↑index.(group,'-',name,'-v',version)
    ⍝  v↓⍨←-latest←'^'=⊃⌽v
    ⍝  vm←latest{
    ⍝      ⍺∧'0'=⊃⍵:⍵↓⍨-'.'⍳⍨⌽⍵
    ⍝      ⍺:⍵↑⍨¯1+⍵⍳'.'
    ⍝      ⍵
    ⍝  }v

     pkgs←mask/index
     0 ''pkgs
 }
